<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:v="http://vecta.io" width="1123" height="794" viewBox="0 0 1123 794"><style><![CDATA[svg{stroke:#000;stroke-linecap:round;stroke-linejoin:round;fill:#fff;fill-rule:evenodd;font-family:Roboto;font-size:14px;text-anchor:middle}svg text{paint-order:stroke;white-space:pre}svg .Text\.cls{stroke:none}]]></style><defs><style>@import url("https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i");</style><g id="thin.end"><path d="M 0 0 L 3 10 L -3 10 Z" stroke="none"/></g></defs><rect x="0" y="0" width="50" height="250" fill="#66ff80" transform="translate(449.5 99.5)"/><g transform="translate(249.5 49.5)"><path fill="none" d="M 0.0001 0.00001 L 0 540.5"/><use class="EndArrow.cls" x="0" y="550" transform="scale(1) rotate(180.000009334668 0 550)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(249.5 99.5)"><path fill="none" d="M 0.00001 0.0001 L 190.5 0"/><use class="EndArrow.cls" x="200" y="0" transform="scale(1) rotate(89.999971352111 200 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(259.5 74.499977111816)"><rect x="0" y="0" width="115" height="15.000022888184" fill="none" stroke="none"/><g transform="translate(-7.666666666667 5.000007629395)" class="Text.cls"><rect x="0" y="0" width="168.666641235352" height="15.000022888184" fill="none" stroke="none"/><text fill="#000000" fill-opacity="1"><tspan x="84.333320617676" y="12.120011444092">NewRootContextFor</tspan></text></g></g><g transform="translate(449.5 49.5)"><path fill="none" d="M 0.0001 0.00001 L 0 540.5"/><use class="EndArrow.cls" x="0" y="550" transform="scale(1) rotate(180.000009334668 0 550)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(649.5 49.5)"><path fill="none" d="M 0.0001 0.00001 L 0 540.5"/><use class="EndArrow.cls" x="0" y="550" transform="scale(1) rotate(180.000009334668 0 550)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(849.5 49.5)"><path fill="none" d="M 0.0001 0.00001 L 0 540.5"/><use class="EndArrow.cls" x="0" y="550" transform="scale(1) rotate(180.000009334668 0 550)" fill="#000000" xlink:href="#thin.end"/></g><rect x="0" y="0" width="50" height="210" fill="#66ff80" transform="translate(649.5 149.5)"/><rect x="0" y="0" width="50" height="120" fill="#66ff80" transform="translate(849.5 249.5)"/><g transform="translate(499.5 149.5)"><path fill="none" d="M 0.00001 0.0001 L 140.5 0"/><use class="EndArrow.cls" x="150" y="0" transform="scale(1) rotate(89.999961802811 150 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(699.5 249.5)"><path fill="none" d="M 0.00001 0.0001 L 140.5 0"/><use class="EndArrow.cls" x="150" y="0" transform="scale(1) rotate(89.999961802811 150 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(504.500030517578 119.499977111816)"><rect x="0" y="0" width="129.999969482422" height="25" fill="none" stroke="none"/><g class="Text.cls"><rect x="0" y="0" width="129.999969482422" height="25" fill="none" stroke="none"/><text fill="#000000" fill-opacity="1"><tspan x="64.999984741211" y="17.12">NewContextFor</tspan></text></g></g><g transform="translate(709.5 219.499984741211)"><rect x="0" y="0" width="135.000061035156" height="25" fill="none" stroke="none"/><g class="Text.cls"><rect x="0" y="0" width="135.000061035156" height="25" fill="none" stroke="none"/><text fill="#000000" fill-opacity="1"><tspan x="67.500030517578" y="17.12">NewContextFor</tspan></text></g></g><rect x="0" y="0" width="50" height="200" fill="#00991a" transform="translate(449.5 349.5)"/><rect x="0" y="0" width="50" height="120" fill="#00991a" transform="translate(649.5 359.5)"/><g transform="translate(249.5 349.5)"><path fill="none" d="M 0.00001 0.0001 L 195 0.0001 L 190.5 0.000099999997"/><use class="EndArrow.cls" x="200" y="0" transform="scale(1) rotate(89.999427042178 200 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(749.5 609.5)"><rect x="0" y="0" width="300" height="30" fill="#fff"/><g class="Text.cls"><rect x="0" y="0" width="300" height="30" fill="#66ff80" stroke="none"/><text fill="#000000" fill-opacity="1"><tspan x="150" y="19.62">goroutine loop to service requests</tspan></text></g></g><g transform="translate(749.5 649.5)"><rect x="0" y="0" width="300" height="30" fill="#fff"/><g class="Text.cls"><rect x="0" y="0" width="300" height="30" fill="#00991a" stroke="none"/><text fill="#000000" fill-opacity="1" font-size="12px"><tspan x="150" y="18.96">loops works, but new contexts creates as empty</tspan></text></g></g><rect x="0" y="0" width="50" height="240" fill="#00bfff" transform="translate(249.5 349.5)"/><g transform="translate(749.5 729.5)"><rect x="0" y="0" width="300" height="30" fill="#00bfff"/><g class="Text.cls"><rect x="0" y="0" width="300" height="30" fill="none" stroke="none"/><text fill="#000000" fill-opacity="1"><tspan x="150" y="19.62">canceling time</tspan></text></g></g><g transform="translate(299.5 359.5)"><path fill="none" d="M 0.00001 0.0001 L 340.5 0"/><use class="EndArrow.cls" x="350" y="0" transform="scale(1) rotate(89.999983629775 350 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(299.5 369.5)"><path fill="none" d="M 0.00001 0.0001 L 540.5 0"/><use class="EndArrow.cls" x="550" y="0" transform="scale(1) rotate(89.999989582584 550 0)" fill="#000000" xlink:href="#thin.end"/></g><rect x="0" y="0" width="50" height="50" fill="#00991a" transform="translate(849.5 369.5)"/><g transform="translate(299.5 419.5)"><path fill="none" d="M 0.00001 0.0001 L 540.5 0"/><use class="EndArrow.cls" x="550" y="0" transform="scale(1) rotate(89.999989582584 550 0)" fill="#000000" xlink:href="#thin.end"/></g><rect x="0" y="0" width="50" height="50" fill="#ff9999" transform="translate(849.5 419.5)"/><g transform="translate(749.5 689.5)"><rect x="0" y="0" width="300" height="30" fill="#ff9999"/><g class="Text.cls"><rect x="0" y="0" width="300" height="30" fill="none" stroke="none"/><text fill="#000000" fill-opacity="1"><tspan x="150" y="19.62">loop breaked, we disposing context resources</tspan></text></g></g><g transform="translate(299.5 469.5)"><path fill="none" d="M 550 0.0001 L 9.5 0"/><use class="EndArrow.cls" x="0" y="0" transform="scale(1) rotate(270.000008651422 0 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(299.5 479.5)"><path fill="none" d="M 0.00001 0.0001 L 340.5 0"/><use class="EndArrow.cls" x="350" y="0" transform="scale(1) rotate(89.999983629775 350 0)" fill="#000000" xlink:href="#thin.end"/></g><rect x="0" y="0" width="50" height="60" fill="#ff9999" transform="translate(649.5 479.5)"/><g transform="translate(299.5 539.5)"><path fill="none" d="M 350 0.0001 L 9.5 0"/><use class="EndArrow.cls" x="0" y="0" transform="scale(1) rotate(270.000022311798 0 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(304.5 399.5)"><rect x="0" y="0" width="135.000030517578" height="20" fill="none" stroke="none"/><g class="Text.cls"><rect x="0" y="0" width="135.000030517578" height="20" stroke="none" fill="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="67.500015258789" y="14.62">opened chan closed</tspan></text></g></g><g transform="translate(304.5 409.5)"><rect x="0" y="0" width="135.000030517578" height="20" fill="none" stroke="none"/><g transform="translate(0 75)" class="Text.cls"><rect x="0" y="0" width="135.000030517578" height="20" stroke="none" fill="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="67.500015258789" y="14.62">opened chan closed</tspan></text></g></g><g transform="translate(299.5 549.5)"><path fill="none" d="M 0.00001 0.0001 L 140.5 0"/><use class="EndArrow.cls" x="150" y="0" transform="scale(1) rotate(89.999961802811 150 0)" fill="#000000" xlink:href="#thin.end"/></g><rect x="0" y="0" width="50" height="30" fill="#ff9999" transform="translate(449.5 549.5)"/><g transform="translate(304.5 549.5)"><rect x="0" y="0" width="135.000030517578" height="20" fill="none" stroke="none"/><g class="Text.cls"><rect x="0" y="0" width="135.000030517578" height="20" stroke="none" fill="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="67.500015258789" y="14.62">opened chan closed</tspan></text></g></g><g transform="translate(299.5 579.5)"><path fill="none" d="M 150 0.0001 L 9.5 0"/><use class="EndArrow.cls" x="0" y="0" transform="scale(1) rotate(270.000035972177 0 0)" fill="#000000" xlink:href="#thin.end"/></g><g transform="translate(719.5 449.5)"><rect x="0" y="0" width="125.000061035156" height="20" fill="none" stroke="none"/><g transform="translate(10 20)" class="Text.cls"><rect x="0" y="0" width="125.000061035156" height="20" stroke="none" fill="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="62.500030517578" y="14.62">goroutine closed</tspan></text></g></g><g transform="translate(724.5 454.5)"><rect x="0" y="0" width="125.000061035156" height="20" fill="none" stroke="none"/><g transform="translate(-195 85)" class="Text.cls"><rect x="0" y="0" width="125.000061035156" height="20" stroke="none" fill="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="62.500030517578" y="14.62">goroutine closed</tspan></text></g></g><g transform="translate(729.5 459.5)"><rect x="0" y="0" width="125.000061035156" height="20" fill="none" stroke="none"/><g transform="translate(-400 120)" class="Text.cls"><rect x="0" y="0" width="125.000061035156" height="20" stroke="none" fill="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="62.500030517578" y="14.62">goroutine closed</tspan></text></g></g><g transform="translate(219.5 319.5)"><rect x="0" y="0" width="170.000030517578" height="30" fill="none" stroke="none"/><g transform="translate(-20 0)" class="Text.cls"><rect x="0" y="0" width="170.000030517578" height="30" fill="none" stroke="none" fill-opacity="0"/><text fill="#000000" fill-opacity="1"><tspan x="85.000015258789" y="19.62">Cancel</tspan></text></g></g></svg>
